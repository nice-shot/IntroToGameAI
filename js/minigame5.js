!function(e){function t(t){for(var n,o,a=t[0],l=t[1],c=t[2],p=0,d=[];p<a.length;p++)o=a[p],s[o]&&d.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var l=r[a];0!==s[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},s={5:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;i.push([1095,0]),r()}({1093:function(e,t,r){var n={"./Interior_Floors_by_George.png":222,"./Interior_Walls_by_George.png":223,"./boss.png":220,"./castle_tileset.png":67,"./ninja.png":65};function s(e){var t=i(e);return r(t)}function i(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}s.keys=function(){return Object.keys(n)},s.resolve=i,e.exports=s,s.id=1093},1094:function(e,t,r){var n={"./boss_atlas.json":221,"./ninja_atlas.json":66};function s(e){var t=i(e);return r(t)}function i(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}s.keys=function(){return Object.keys(n)},s.resolve=i,e.exports=s,s.id=1094},1095:function(e,t,r){"use strict";r.r(t);var n=r(35),s=r(20),i=r.n(s);const o=Object.freeze({up:"up",down:"down",left:"left",right:"right"}),a=e=>{const t=e*(180/Math.PI);return t>=45&&t<=135?o.down:t<=-45&&t>=-135?o.up:t<45&&t>-45?o.right:o.left};var l=class{constructor(e){this.name=e,this.sprite=null,this.direction=o.down}preload(e){const t=this.name;return e.load.atlas(t,r(1093)("./"+t+".png"),r(1094)("./"+t+"_atlas.json")),this}create(e,t,r){return this.createSprite(e,t,r),this.createWalkAnimations(e),this}update(e,t,r){this.updateWalkAnimation(e)}createWalkAnimations(e){const t=this.name,r=e.anims,n=["left","right","front","back"];for(let e of n){const n=`${t}_${e}_walk`;r.create({key:n,frames:r.generateFrameNames(t,{prefix:n+".",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1})}return this}createSprite(e,t,r){const n=this.name;return this.sprite=e.physics.add.sprite(t,r,n,n+"_front").setSize(16,16).setOffset(0,15).setCollideWorldBounds(!0),this}updateWalkAnimation(){const e=this.name,t=this.sprite.anims;if(this.sprite.body.speed>0)switch(this.direction=a(this.sprite.body.angle),this.direction){case o.down:t.play(e+"_front_walk",!0);break;case o.up:t.play(e+"_back_walk",!0);break;case o.right:t.play(e+"_right_walk",!0);break;default:t.play(e+"_left_walk",!0)}else{t.stop();const r=this.sprite;switch(this.direction){case o.down:r.setTexture(e,e+"_front");break;case o.up:r.setTexture(e,e+"_back");break;case o.right:r.setTexture(e,e+"_right");break;default:r.setTexture(e,e+"_left")}}}};var c=class extends l{constructor(e){super(e),this.cursors=null}create(e,t,r){super.create(e,t,r),this.cursors=e.input.keyboard.createCursorKeys()}update(e,t,r){const n=this.cursors;this.sprite.body.setVelocity(0),n.left.isDown?this.sprite.body.setVelocityX(-100):n.right.isDown&&this.sprite.body.setVelocityX(100),n.up.isDown?this.sprite.body.setVelocityY(-100):n.down.isDown&&this.sprite.body.setVelocityY(100),this.sprite.body.velocity.normalize().scale(100),super.update(e,t,r)}},u=r(133),p=r(67),d=r.n(p);let h=new c("ninja");var f=class extends i.a.Scene{constructor(){super("DiamondHeist")}preload(){h.preload(this),this.load.image("tiles",d.a),this.load.tilemapTiledJSON("map",u)}create(){const e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("Castle","tiles"),r=(e.createStaticLayer("Floor",t,0,0),e.createStaticLayer("Walls",t,0,0).setCollisionBetween(1,999));h.create(this,120,120),this.physics.add.collider(r,h.sprite)}update(e,t){h.update(this,e,t)}};Object(n.a)({scene:[f],width:240,height:240,zoom:2})}});
//# sourceMappingURL=minigame5.js.map
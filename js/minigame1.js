!function(e){function t(t){for(var r,o,i=t[0],l=t[1],d=t[2],p=0,f=[];p<i.length;p++)o=i[p],n[o]&&f.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);f.length;)f.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={0:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=l;s.push([434,1]),a()}({434:function(e,t,a){"use strict";a.r(t);var r=a(127),n=a.n(r);let s,o,i,l,d,c,p=!1,f=!1,u=0,y=!0;const m={type:n.a.AUTO,width:240,height:256,zoom:2,pixelArt:!0,backgroundColor:"#222222",parent:"game-container",scene:[class extends n.a.Scene{constructor(){super({key:"GameLoop"})}preload(){this.load.atlas("ninja","assets/ninja.png","assets/ninja-atlas.json"),this.load.atlas("guard","assets/boss.png","assets/boss-atlas.json"),this.load.image("floors","assets/Interior_Floors_by_George.png"),this.load.image("walls","assets/Interior_Walls_by_George.png"),this.load.tilemapTiledJSON("map","assets/gameloop_map.json")}create(){const e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("Interior_Floors_by_George","floors"),a=e.addTilesetImage("Interior_Walls_by_George","walls"),r=(e.createStaticLayer("Floor",t,0,0),e.createStaticLayer("Walls",a,0,0));r.setCollisionBetween(1,999);const n=e.findObject("Objects",e=>"PlayerSpawn"===e.name),m=e.findObject("Objects",e=>"GuardSpawn"===e.name);s=this.physics.add.sprite(n.x,n.y,"ninja","ninja_front").setSize(16,16).setOffset(0,15).setCollideWorldBounds(!0),i=this.physics.add.sprite(m.x,m.y,"guard","boss_front").setSize(16,16).setOffset(0,15).setCollideWorldBounds(!0),this.physics.add.collider(s,r),this.physics.add.collider(s,i);const{width:_,height:b}=this.sys.canvas;l=this.add.text(_/2,b/2,"Game Over",{fill:"red",backgroundColor:"rgba(0, 0, 0, .5)"}).setOrigin().setVisible(!1),d=this.add.text(5,16,"Restart",{fill:"white",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setInteractive().on("pointerdown",()=>{p=!1,f=!1,u=0,y=!0,c.setText(u),l.setVisible(!1),s.setPosition(n.x,n.y),i.setPosition(m.x,m.y)}),c=this.add.text(_-5,16,u,{fill:"#0f0",backgroundColor:"rgba(0, 0, 0, 0.6)",align:"right"}).setOrigin(1,0);const g=this.anims;g.create({key:"ninja_left_walk",frames:g.generateFrameNames("ninja",{prefix:"ninja_left_walk.",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1}),g.create({key:"ninja_right_walk",frames:g.generateFrameNames("ninja",{prefix:"ninja_right_walk.",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1}),g.create({key:"ninja_front_walk",frames:g.generateFrameNames("ninja",{prefix:"ninja_front_walk.",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1}),g.create({key:"ninja_back_walk",frames:g.generateFrameNames("ninja",{prefix:"ninja_back_walk.",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1}),g.create({key:"guard_front_walk",frames:g.generateFrameNames("guard",{prefix:"boss_front_walk.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),g.create({key:"guard_back_walk",frames:g.generateFrameNames("guard",{prefix:"boss_back_walk.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),o=this.input.keyboard.createCursorKeys()}updatePlayerMovement(){const e=s.body.velocity.clone();s.body.setVelocity(0),o.left.isDown?s.body.setVelocityX(-100):o.right.isDown&&s.body.setVelocityX(100),o.up.isDown?s.body.setVelocityY(-100):o.down.isDown&&s.body.setVelocityY(100),s.body.velocity.normalize().scale(175),o.left.isDown?s.anims.play("ninja_left_walk",!0):o.right.isDown?s.anims.play("ninja_right_walk",!0):o.up.isDown?s.anims.play("ninja_back_walk",!0):o.down.isDown?s.anims.play("ninja_front_walk",!0):(s.anims.stop(),e.x<0?s.setTexture("ninja","ninja_left"):e.x>0?s.setTexture("ninja","ninja_right"):e.y<0?s.setTexture("ninja","ninja_back"):e.y>0&&s.setTexture("ninja","ninja_front"))}updateGuardMovement(){i.body.setVelocity(0),!p&&s.x>100&&s.x<145?f=!0:((i.y<=15||i.y>=140)&&(p=!p),p?(i.body.setVelocityY(-90),i.anims.play("guard_back_walk",!0)):(i.body.setVelocityY(90),i.anims.play("guard_front_walk",!0)))}calculateScore(){const e=[30,210];(y&&s.x>=e[1]||!y&&s.x<=e[0])&&(y=!y,u++,c.setText(u))}update(e,t){if(f)return i.anims.stop(),s.anims.stop(),s.body.setVelocity(0),void l.setVisible(!0);this.updatePlayerMovement(),this.updateGuardMovement(),this.calculateScore()}}],physics:{default:"arcade",arcade:{gravity:{y:0}}}};new n.a.Game(m)}});
//# sourceMappingURL=minigame1.js.map
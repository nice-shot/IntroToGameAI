!function(t){function e(e){for(var a,s,n=e[0],l=e[1],h=e[2],c=0,u=[];c<n.length;c++)s=n[c],r[s]&&u.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);for(p&&p(e);u.length;)u.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],a=!0,n=1;n<i.length;n++){var l=i[n];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},r={4:0},o=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var n=window.webpackJsonp=window.webpackJsonp||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var h=0;h<n.length;h++)e(n[h]);var p=l;o.push([1093,0]),i()}({1093:function(t,e,i){"use strict";i.r(e);var a=i(55),r=i(24),o=i.n(r),s=i(132),n=i.n(s),l=i(100),h=i(446),p=i.n(h),c=i(81),u=i.n(c),f=i(82);var d=class{static preload(t){t.load.atlas("ninja",u.a,f)}static createAnimations(t){const e=t.anims,i=["left","right","front","back"];for(let t of i){const i=`${"ninja".toLowerCase()}_${t}_walk`;e.create({key:i,frames:e.generateFrameNames("ninja",{prefix:i+".",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1})}}constructor(t,e,i){this.sprite=t.physics.add.sprite(e,i,"ninja","ninja".toLowerCase()+"_front").setSize(16,16).setOffset(0,15).setCollideWorldBounds(!0),this.moveTo=new o.a.Math.Vector2(e,i),this.waitingForPath=!1,this.path=[]}setMoveTo(t){this.moveTo=t.clone()}setPath(t){this.waitingForPath=!1,this.path=t,this.path.reverse(),this.setMoveTo(this.path.pop())}checkPath(){const{x:t,y:e}=this.sprite,i=o.a.Math.Fuzzy.Equal;return!(!i(this.moveTo.x,t,1)||!i(this.moveTo.y,e,1)||(this.path&&this.path.length>0?(this.setMoveTo(this.path.pop()),1):(this.sprite.anims.stop(),0)))}update(t){if(this.sprite.setVelocity(0),this.checkPath())return;t.physics.moveTo(this.sprite,this.moveTo.x,this.moveTo.y,100);const e="ninja".toLowerCase(),i=this.sprite.body.angle*(180/Math.PI);i>=45&&i<=135?this.sprite.anims.play(e+"_front_walk",!0):i<=-45&&i>=-135?this.sprite.anims.play(e+"_back_walk",!0):i<45&&i>-45?this.sprite.anims.play(e+"_right_walk",!0):this.sprite.anims.play(e+"_left_walk",!0)}};let y,m;var v=class extends o.a.Scene{constructor(){super("StupidNavigation")}preload(){this.load.image("tileset",n.a),this.load.tilemapTiledJSON("map",l),d.preload(this)}create(){const t=this.make.tilemap({key:"map"}),e=t.addTilesetImage("Castle","tileset"),i=(t.createStaticLayer("Floor",e,0,0),t.createStaticLayer("WallsWithAbove",e,0,0).setCollisionBetween(1,999)),a=(t.createStaticLayer("Above",e,0,0).setDepth(30),[]);for(let e=0;e<t.height;e++){a.push([]);for(let r=0;r<t.width;r++)a[e].push(i.hasTileAt(r,e))}(m=new p.a.js).setGrid(a),m.setAcceptableTiles([!1]),d.createAnimations(this),y=new d(this,24,178),this.input.on("pointerdown",t=>{const e=i.worldToTileXY(y.sprite.x,y.sprite.y),a=i.worldToTileXY(t.position.x,t.position.y);m.findPath(e.x,e.y,a.x,a.y,t=>{y.setPath(t.map(t=>{const e=i.tileToWorldXY(t.x,t.y);return e.x+=8,e.y+=8,e}))}),y.waitingForPath=!0})}update(t,e){y.waitingForPath&&m.calculate(),y.update(this)}};Object(a.a)({scene:[v],width:240,height:240,zoom:2})}});
//# sourceMappingURL=minigame4.js.map